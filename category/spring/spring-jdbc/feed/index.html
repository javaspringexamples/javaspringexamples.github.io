<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Spring JDBC &#8211; Java and Spring Examples</title>
	<atom:link href="http://localhost/wordpress/category/spring/spring-jdbc/feed/" rel="self" type="application/rss+xml" />
	<link>http://localhost/wordpress</link>
	<description></description>
	<lastBuildDate>Sat, 01 Jun 2019 14:53:50 +0000</lastBuildDate>
	<language>fr-FR</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.0.4</generator>
	<item>
		<title>Example Spring 4 JDBC – SQL Queries</title>
		<link>http://localhost/wordpress/2019/06/01/example-spring-4-jdbc-sql-queries/</link>
		<pubDate>Sat, 01 Jun 2019 14:41:11 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[Spring JDBC]]></category>
		<category><![CDATA[SQL Queries]]></category>

		<guid isPermaLink="false">http://localhost/wordpress/?p=601</guid>
		<description><![CDATA[This example presents the basic concept of using SQL queries in Spring JDBC. The technologies used are : &#8211; Spring 4.3.18 &#8211; H2 1.3 &#8211; Lombok 1.18 &#8211; JDK 1.80 &#8211; Maven 3.3.9 You can...]]></description>
				<content:encoded><![CDATA[<p>This example presents the basic concept of using SQL queries in Spring JDBC.</p>
<p>The technologies used are :</p>
<ul>
 &#8211; Spring 4.3.18<br />
 &#8211; H2 1.3<br />
 &#8211; Lombok 1.18<br />
 &#8211; JDK 1.80<br />
 &#8211; Maven 3.3.9
</ul>
<p>You can convert this example to an Eclipse IDE project by going to folder where is the pom.xml is, and use the command :</p>
<pre class="brush: bash; title: ; notranslate">mvn eclipse:eclipse</pre>
<p>Inspired from « Beginning Spring » Mert Caliskan, Kenan Sevindik, Rod Johnson (Foreword by), Jürgen Höller (Foreword by).</p>
<pre class="brush: xml; title: pom.xml; notranslate">
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
	&lt;groupId&gt;javaspringexamples.springJDBC&lt;/groupId&gt;
	&lt;artifactId&gt;springJdbcRunningSQLQueries&lt;/artifactId&gt;
	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

	&lt;properties&gt;
		&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
		&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
	&lt;/properties&gt;

	&lt;dependencies&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-context&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;com.h2database&lt;/groupId&gt;
			&lt;artifactId&gt;h2&lt;/artifactId&gt;
			&lt;version&gt;1.3.175&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
			&lt;artifactId&gt;lombok&lt;/artifactId&gt;
			&lt;version&gt;1.18.6&lt;/version&gt;
		&lt;/dependency&gt;
	&lt;/dependencies&gt;
&lt;/project&gt;
</pre>
<pre class="brush: java; title: Conf.java; notranslate">
package javaspringexamples.springJDBC.runningSqlQueries;

import javax.sql.DataSource;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.core.io.Resource;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.datasource.DriverManagerDataSource;
import org.springframework.jdbc.datasource.init.DataSourceInitializer;
import org.springframework.jdbc.datasource.init.DatabasePopulator;
import org.springframework.jdbc.datasource.init.ResourceDatabasePopulator;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
@Configuration
public class Conf {

	@Value(&quot;classpath:schema.sql&quot;)
	private Resource schemaScript;

	@Value(&quot;classpath:data.sql&quot;)
	private Resource dataScript;

	@Bean
	public DataSource dataSource() {
		DriverManagerDataSource dataSource = new DriverManagerDataSource();
		dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);
		dataSource.setUrl(&quot;jdbc:h2:tcp://localhost/~/javaspringexamples&quot;);
		dataSource.setUsername(&quot;sa&quot;);
		dataSource.setPassword(&quot;&quot;);
		return dataSource;
	}

	@Bean
	public DataSourceInitializer dataSourceInitializer(final DataSource dataSource) {
		final DataSourceInitializer initializer = new DataSourceInitializer();
		initializer.setDataSource(dataSource);
		initializer.setDatabasePopulator(databasePopulator());
		return initializer;
	}

	private DatabasePopulator databasePopulator() {
		final ResourceDatabasePopulator populator = new ResourceDatabasePopulator();
		populator.addScript(schemaScript);
		populator.addScript(dataScript);
		return populator;
	}

	@Bean
	public JdbcTemplate jdbcTemplate() {
		JdbcTemplate jdbcTemplate = new JdbcTemplate();
		jdbcTemplate.setDataSource(dataSource());
		return jdbcTemplate;
	}

	@Bean
	public UserDao userDao() {
		UserDaoImpl userDao = new UserDaoImpl();
		userDao.setJdbcTemplate(jdbcTemplate());
		return userDao;
	}
}
</pre>
<pre class="brush: java; title: Main.java; notranslate">
package javaspringexamples.springJDBC.runningSqlQueries;

import java.sql.SQLException;

import org.springframework.context.annotation.AnnotationConfigApplicationContext;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class Main {
	public static void main(String[] args) throws SQLException {
		AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(Conf.class);
		
		UserDao userDao = applicationContext.getBean(UserDao.class);
		
		User user = userDao.findById(999L);
		
		System.out.println(user.getId());
		System.out.println(user.getName());
		System.out.println(user.getAccessTime());
		System.out.println(user.isLocked());
	}
}
</pre>
<pre class="brush: java; title: User.java; notranslate">
package javaspringexamples.springJDBC.runningSqlQueries;

import java.util.Date;

import lombok.Data;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
@Data
public class User {
	private long id;
	private String name;
	private String userName;
	private Date accessTime;
	private boolean locked;
}

</pre>
<pre class="brush: java; title: UserDao.java; notranslate">
package javaspringexamples.springJDBC.runningSqlQueries;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public interface UserDao {
	public User findById(long usertId);
}
</pre>
<pre class="brush: java; title: UserDaoImpl.java; notranslate">
package javaspringexamples.springJDBC.runningSqlQueries;

import java.sql.ResultSet;
import java.sql.SQLException;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.RowMapper;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class UserDaoImpl implements UserDao {

	private JdbcTemplate jdbcTemplate;

	public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {
		this.jdbcTemplate = jdbcTemplate;
	}

	public User findById(long userId) {
		return jdbcTemplate.queryForObject(&quot;SELECT id, name, user_name, access_time, locked FROM USER WHERE id = ?&quot;,
				new RowMapper&lt;User&gt;() {
					public User mapRow(ResultSet rs, int rowNum) throws SQLException {
						User user = new User();
						user.setId(rs.getLong(&quot;id&quot;));
						user.setName(rs.getString(&quot;name&quot;));
						user.setUserName(rs.getString(&quot;user_name&quot;));
						user.setAccessTime(rs.getTimestamp(&quot;access_time&quot;));
						user.setLocked(rs.getBoolean(&quot;locked&quot;));
						return user;
					}

				}, userId);
	}
}
</pre>
<pre class="brush: java; title: data.sql; notranslate">
MERGE INTO USER (ID, NAME, USER_NAME, ACCESS_TIME, LOCKED) values (999L, 'Mounir SAHRANI', 'msahrani', '2019-01-01',false);
MERGE INTO USER (ID, NAME, USER_NAME, ACCESS_TIME, LOCKED) values (256L, 'Laurent SOURDEAU', 'lsourdeau', '2019-06-01',false);
</pre>
<pre class="brush: java; title: schema.sql; notranslate">
CREATE TABLE IF NOT EXISTS USER (ID BIGINT IDENTITY PRIMARY KEY, NAME VARCHAR(60), USER_NAME VARCHAR(60), ACCESS_TIME TIMESTAMP, LOCKED BOOLEAN);
</pre>
<p><a href="https://github.com/javaspringexamples/springJdbcRunningSQLQueries.git">Get the sources of the example from the following GitHub url</a></p>
<p>Or <a href="https://github.com/javaspringexamples/springJdbcRunningSQLQueries/archive/master.zip">Download a .zip file</a></p>
]]></content:encoded>
			</item>
		<item>
		<title>Example Spring 4 JDBC – Queries in clause</title>
		<link>http://localhost/wordpress/2019/06/01/example-spring-4-jdbc-queries-in-clause/</link>
		<pubDate>Sat, 01 Jun 2019 14:38:30 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[Queries in clause]]></category>
		<category><![CDATA[Spring JDBC]]></category>

		<guid isPermaLink="false">http://localhost/wordpress/?p=599</guid>
		<description><![CDATA[This example presents the basic concept of using queries in clause Spring JDBC. The technologies used are : &#8211; Spring 4.3.18 &#8211; H2 1.3 &#8211; Lombok 1.18 &#8211; JDK 1.80 &#8211; Maven 3.3.9 You can...]]></description>
				<content:encoded><![CDATA[<p>This example presents the basic concept of using queries in clause Spring JDBC.</p>
<p>The technologies used are :</p>
<ul>
 &#8211; Spring 4.3.18<br />
 &#8211; H2 1.3<br />
 &#8211; Lombok 1.18<br />
 &#8211; JDK 1.80<br />
 &#8211; Maven 3.3.9
</ul>
<p>You can convert this example to an Eclipse IDE project by going to folder where is the pom.xml is, and use the command :</p>
<pre class="brush: bash; title: ; notranslate">mvn eclipse:eclipse</pre>
<p>Inspired from « Beginning Spring » Mert Caliskan, Kenan Sevindik, Rod Johnson (Foreword by), Jürgen Höller (Foreword by).</p>
<pre class="brush: xml; title: pom.xml; notranslate">
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
	&lt;groupId&gt;javaspringexamples.springJDBC&lt;/groupId&gt;
	&lt;artifactId&gt;springJdbcQueriesInClause&lt;/artifactId&gt;
	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

	&lt;properties&gt;
		&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
		&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
	&lt;/properties&gt;

	&lt;dependencies&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-context&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;com.h2database&lt;/groupId&gt;
			&lt;artifactId&gt;h2&lt;/artifactId&gt;
			&lt;version&gt;1.3.175&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
			&lt;artifactId&gt;lombok&lt;/artifactId&gt;
			&lt;version&gt;1.18.6&lt;/version&gt;
		&lt;/dependency&gt;
	&lt;/dependencies&gt;

&lt;/project&gt;
</pre>
<pre class="brush: java; title: Conf.java; notranslate">
package javaspringexamples.springJDBC.queriesInClause;

import javax.sql.DataSource;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.core.io.Resource;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.datasource.DriverManagerDataSource;
import org.springframework.jdbc.datasource.init.DataSourceInitializer;
import org.springframework.jdbc.datasource.init.DatabasePopulator;
import org.springframework.jdbc.datasource.init.ResourceDatabasePopulator;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
@Configuration
public class Conf {

	@Value(&quot;classpath:schema.sql&quot;)
	private Resource schemaScript;

	@Value(&quot;classpath:data.sql&quot;)
	private Resource dataScript;

	@Bean
	public DataSource dataSource() {
		DriverManagerDataSource dataSource = new DriverManagerDataSource();
		dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);
		dataSource.setUrl(&quot;jdbc:h2:tcp://localhost/~/javaspringexamples&quot;);
		dataSource.setUsername(&quot;sa&quot;);
		dataSource.setPassword(&quot;&quot;);
		return dataSource;
	}

	@Bean
	public DataSourceInitializer dataSourceInitializer(final DataSource dataSource) {
		final DataSourceInitializer initializer = new DataSourceInitializer();
		initializer.setDataSource(dataSource);
		initializer.setDatabasePopulator(databasePopulator());
		return initializer;
	}

	private DatabasePopulator databasePopulator() {
		final ResourceDatabasePopulator populator = new ResourceDatabasePopulator();
		populator.addScript(schemaScript);
		populator.addScript(dataScript);
		return populator;
	}

	@Bean
	public JdbcTemplate jdbcTemplate() {
		JdbcTemplate jdbcTemplate = new JdbcTemplate();
		jdbcTemplate.setDataSource(dataSource());
		return jdbcTemplate;
	}

	@Bean
	public UserDao userDao() {
		UserDaoImpl userDao = new UserDaoImpl();
		userDao.setJdbcTemplate(jdbcTemplate());
		return userDao;
	}
}
</pre>
<pre class="brush: java; title: Main.java; notranslate">
package javaspringexamples.springJDBC.queriesInClause;

import java.sql.SQLException;
import java.util.List;

import org.springframework.context.annotation.AnnotationConfigApplicationContext;

public class Main {
	public static void main(String[] args) throws SQLException {
		AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(Conf.class);

		UserDao userDao = applicationContext.getBean(UserDao.class);

		List&lt;User&gt; users = userDao.find(new Long[] { 65L, 999L });
		for (User user : users)
			System.out.println(user.toString());
	}
}

</pre>
<pre class="brush: java; title: User.java; notranslate">
package javaspringexamples.springJDBC.queriesInClause;

import java.util.Date;

import lombok.Data;
import lombok.ToString;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
@Data
public class User {
	private long id;
	private String name;
	private String userName;
	@ToString.Exclude
	private Date accessTime;
	private boolean locked;
}
</pre>
<pre class="brush: java; title: UserDao.java; notranslate">
package javaspringexamples.springJDBC.queriesInClause;

import java.util.List;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public interface UserDao {
	public List&lt;User&gt; find(Long... userIds);
}
</pre>
<pre class="brush: java; title: UserDaoImpl.java; notranslate">
package javaspringexamples.springJDBC.queriesInClause;

import java.util.Arrays;
import java.util.List;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;
import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;
import org.springframework.jdbc.core.namedparam.SqlParameterSource;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class UserDaoImpl implements UserDao {

	private JdbcTemplate jdbcTemplate;
	private NamedParameterJdbcTemplate namedParameterJdbcTemplate;
	private UserRowMapper userRowMapper = new UserRowMapper();

	public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {
		this.jdbcTemplate = jdbcTemplate;
		namedParameterJdbcTemplate = new NamedParameterJdbcTemplate(jdbcTemplate);
	}

	public List&lt;User&gt; find(Long... userIds) {
		SqlParameterSource sqlParameterSource = new MapSqlParameterSource(&quot;userIds&quot;, Arrays.asList(userIds));
		return namedParameterJdbcTemplate.query(&quot;select * from user where id in (:userIds)&quot;, sqlParameterSource,
				userRowMapper);
	}
}

</pre>
<pre class="brush: java; title: UserRowMapper.java; notranslate">
package javaspringexamples.springJDBC.queriesInClause;

import java.sql.ResultSet;
import java.sql.SQLException;

import org.springframework.jdbc.core.RowMapper;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class UserRowMapper implements RowMapper&lt;User&gt; {

	public User mapRow(ResultSet rs, int rowNum) throws SQLException {
		User user = new User();
		user.setId(rs.getLong(&quot;id&quot;));
		user.setName(rs.getString(&quot;name&quot;));
		user.setUserName(rs.getString(&quot;user_name&quot;));
		user.setAccessTime(rs.getTimestamp(&quot;access_time&quot;));
		user.setLocked(rs.getBoolean(&quot;locked&quot;));
		return user;
	}

}

</pre>
<pre class="brush: java; title: data.sql; notranslate">
MERGE INTO USER (ID, NAME, USER_NAME, ACCESS_TIME, LOCKED) values (999L, 'Mounir SAHRANI', 'msahrani', '2019-01-01',false);
MERGE INTO USER (ID, NAME, USER_NAME, ACCESS_TIME, LOCKED) values (256L, 'Laurent SOURDEAU', 'lsourdeau', '2019-06-01',false);
MERGE INTO USER (ID, NAME, USER_NAME, ACCESS_TIME, LOCKED) values (65L, 'John SMITH', 'jsmith', '2019-06-01',true);
</pre>
<pre class="brush: java; title: schema.sql; notranslate">
CREATE TABLE IF NOT EXISTS USER (ID BIGINT IDENTITY PRIMARY KEY, NAME VARCHAR(60), USER_NAME VARCHAR(60), ACCESS_TIME TIMESTAMP, LOCKED BOOLEAN);
</pre>
<p><a href="https://github.com/javaspringexamples/springJdbcQueriesInClause.git">Get the sources of the example from the following GitHub url</a></p>
<p>Or <a href="https://github.com/javaspringexamples/springJdbcQueriesInClause/archive/master.zip">Download a .zip file</a></p>
]]></content:encoded>
			</item>
		<item>
		<title>Example Spring 4 JDBC – PreparedStatements</title>
		<link>http://localhost/wordpress/2019/06/01/example-spring-4-jdbc-preparedstatements/</link>
		<pubDate>Sat, 01 Jun 2019 14:36:43 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[PreparedStatements]]></category>
		<category><![CDATA[Spring JDBC]]></category>

		<guid isPermaLink="false">http://localhost/wordpress/?p=597</guid>
		<description><![CDATA[This example presents the basic concept of using prepared statements in Spring JDBC. The technologies used are : &#8211; Spring 4.3.18 &#8211; H2 1.3 &#8211; Lombok 1.18 &#8211; JDK 1.80 &#8211; Maven 3.3.9 You can...]]></description>
				<content:encoded><![CDATA[<p>This example presents the basic concept of using prepared statements in Spring JDBC.</p>
<p>The technologies used are :</p>
<ul>
 &#8211; Spring 4.3.18<br />
 &#8211; H2 1.3<br />
 &#8211; Lombok 1.18<br />
 &#8211; JDK 1.80<br />
 &#8211; Maven 3.3.9
</ul>
<p>You can convert this example to an Eclipse IDE project by going to folder where is the pom.xml is, and use the command :</p>
<pre class="brush: bash; title: ; notranslate">mvn eclipse:eclipse</pre>
<p>Inspired from « Beginning Spring » Mert Caliskan, Kenan Sevindik, Rod Johnson (Foreword by), Jürgen Höller (Foreword by).</p>
<pre class="brush: xml; title: pom.xml; notranslate">
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
	&lt;groupId&gt;javaspringexamples.springJDBC&lt;/groupId&gt;
	&lt;artifactId&gt;springJdbcPreparedStatements&lt;/artifactId&gt;
	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

	&lt;properties&gt;
		&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
		&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
	&lt;/properties&gt;

	&lt;dependencies&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-context&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;com.h2database&lt;/groupId&gt;
			&lt;artifactId&gt;h2&lt;/artifactId&gt;
			&lt;version&gt;1.3.175&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
			&lt;artifactId&gt;lombok&lt;/artifactId&gt;
			&lt;version&gt;1.18.6&lt;/version&gt;
		&lt;/dependency&gt;
	&lt;/dependencies&gt;

&lt;/project&gt;
</pre>
<pre class="brush: java; title: Conf.java; notranslate">
package javaspringexamples.springJDBC.preparedStatements;

import javax.sql.DataSource;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.core.io.Resource;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.datasource.DriverManagerDataSource;
import org.springframework.jdbc.datasource.init.DataSourceInitializer;
import org.springframework.jdbc.datasource.init.DatabasePopulator;
import org.springframework.jdbc.datasource.init.ResourceDatabasePopulator;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
@Configuration
public class Conf {

	@Value(&quot;classpath:schema.sql&quot;)
	private Resource schemaScript;

	@Value(&quot;classpath:data.sql&quot;)
	private Resource dataScript;

	@Bean
	public DataSource dataSource() {
		DriverManagerDataSource dataSource = new DriverManagerDataSource();
		dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);
		dataSource.setUrl(&quot;jdbc:h2:tcp://localhost/~/javaspringexamples&quot;);
		dataSource.setUsername(&quot;sa&quot;);
		dataSource.setPassword(&quot;&quot;);
		return dataSource;
	}

	@Bean
	public DataSourceInitializer dataSourceInitializer(final DataSource dataSource) {
		final DataSourceInitializer initializer = new DataSourceInitializer();
		initializer.setDataSource(dataSource);
		initializer.setDatabasePopulator(databasePopulator());
		return initializer;
	}

	private DatabasePopulator databasePopulator() {
		final ResourceDatabasePopulator populator = new ResourceDatabasePopulator();
		populator.addScript(schemaScript);
		populator.addScript(dataScript);
		return populator;
	}

	@Bean
	public JdbcTemplate jdbcTemplate() {
		JdbcTemplate jdbcTemplate = new JdbcTemplate();
		jdbcTemplate.setDataSource(dataSource());
		return jdbcTemplate;
	}

	@Bean
	public UserDao userDao() {
		UserDaoImpl userDao = new UserDaoImpl();
		userDao.setJdbcTemplate(jdbcTemplate());
		return userDao;
	}
}

</pre>
<pre class="brush: java; title: Main.java; notranslate">
package javaspringexamples.springJDBC.preparedStatements;

import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

import org.springframework.context.annotation.AnnotationConfigApplicationContext;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class Main {
	public static void main(String[] args) throws SQLException {
		AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(Conf.class);

		UserDao userDao = applicationContext.getBean(UserDao.class);

		List&lt;User&gt; users = new ArrayList&lt;&gt;();
		users.addAll(userDao.findByUserName(&quot;jsmith&quot;));
		users.addAll(userDao.findLocked(false));
		users.add(userDao.findById(65L));

		for (User user : users)
			System.out.println(user.toString());
	}
}
</pre>
<pre class="brush: java; title: User.java; notranslate">
package javaspringexamples.springJDBC.preparedStatements;

import java.util.Date;

import lombok.Data;
import lombok.ToString;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
@Data
public class User {
	private long id;
	private String name;
	private String userName;
	@ToString.Exclude
	private Date accessTime;
	private boolean locked;
}
</pre>
<pre class="brush: java; title: UserDao.java; notranslate">
package javaspringexamples.springJDBC.preparedStatements;

import java.util.List;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public interface UserDao {
	public User findById(long usertId);
	public List&lt;User&gt; findByUserName(String userName);
	public List&lt;User&gt; findLocked(boolean locked);
}
</pre>
<pre class="brush: java; title: UserDaoImpl.java; notranslate">
package javaspringexamples.springJDBC.preparedStatements;

import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.sql.Types;
import java.util.List;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.PreparedStatementCreatorFactory;
import org.springframework.jdbc.core.PreparedStatementSetter;
import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class UserDaoImpl implements UserDao {

	private JdbcTemplate jdbcTemplate;
	private NamedParameterJdbcTemplate namedParameterJdbcTemplate;
	private UserRowMapper userRowMapper = new UserRowMapper();

	public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {
		this.jdbcTemplate = jdbcTemplate;
		namedParameterJdbcTemplate = new NamedParameterJdbcTemplate(jdbcTemplate);
	}

	public User findById(long userId) {
		return jdbcTemplate.queryForObject(&quot;SELECT id, name, user_name, access_time, locked FROM USER WHERE id = ?&quot;,
				userRowMapper, userId);
	}

	public List&lt;User&gt; findByUserName(String userName) {
		PreparedStatementCreatorFactory psCreatorFactory = new PreparedStatementCreatorFactory(
				&quot;SELECT id, name, user_name, access_time, locked FROM USER WHERE user_name like ?&quot;,
				new int[] { Types.VARCHAR });
		return jdbcTemplate.query(psCreatorFactory.newPreparedStatementCreator(new Object[] { userName }),
				userRowMapper);
	}

	public List&lt;User&gt; findLocked(boolean locked) {
		return jdbcTemplate.query(&quot;SELECT id, name, user_name, access_time, locked FROM USER WHERE locked = ?&quot;,
				new PreparedStatementSetter() {
					@Override
					public void setValues(PreparedStatement ps) throws SQLException {
						ps.setBoolean(1, locked);
					}
				}, userRowMapper);
	}
}

</pre>
<pre class="brush: java; title: UserRowMapper.java; notranslate">
package javaspringexamples.springJDBC.preparedStatements;

import java.sql.ResultSet;
import java.sql.SQLException;

import org.springframework.jdbc.core.RowMapper;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class UserRowMapper implements RowMapper&lt;User&gt; {

	public User mapRow(ResultSet rs, int rowNum) throws SQLException {
		User user = new User();
		user.setId(rs.getLong(&quot;id&quot;));
		user.setName(rs.getString(&quot;name&quot;));
		user.setUserName(rs.getString(&quot;user_name&quot;));
		user.setAccessTime(rs.getTimestamp(&quot;access_time&quot;));
		user.setLocked(rs.getBoolean(&quot;locked&quot;));
		return user;
	}

}

</pre>
<pre class="brush: java; title: data.sql; notranslate">
MERGE INTO USER (ID, NAME, USER_NAME, ACCESS_TIME, LOCKED) values (999L, 'Mounir SAHRANI', 'msahrani', '2019-01-01',false);
MERGE INTO USER (ID, NAME, USER_NAME, ACCESS_TIME, LOCKED) values (256L, 'Laurent SOURDEAU', 'lsourdeau', '2019-06-01',false);
MERGE INTO USER (ID, NAME, USER_NAME, ACCESS_TIME, LOCKED) values (65L, 'John SMITH', 'jsmith', '2019-06-01',true);
</pre>
<pre class="brush: java; title: schema.sql; notranslate">
CREATE TABLE IF NOT EXISTS USER (ID BIGINT IDENTITY PRIMARY KEY, NAME VARCHAR(60), USER_NAME VARCHAR(60), ACCESS_TIME TIMESTAMP, LOCKED BOOLEAN);
</pre>
<p><a href="https://github.com/javaspringexamples/springJdbcPreparedStatements.git">Get the sources of the example from the following GitHub url</a></p>
<p>Or <a href="https://github.com/javaspringexamples/springJdbcPreparedStatements/archive/master.zip">Download a .zip file</a></p>
]]></content:encoded>
			</item>
		<item>
		<title>Example Spring 4 JDBC – NamedParameter</title>
		<link>http://localhost/wordpress/2019/06/01/example-spring-4-jdbc-namedparameter/</link>
		<pubDate>Sat, 01 Jun 2019 14:33:31 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[NamedParameter]]></category>
		<category><![CDATA[Spring JDBC]]></category>

		<guid isPermaLink="false">http://localhost/wordpress/?p=595</guid>
		<description><![CDATA[This example presents the basic concept of using named parameter in Spring JDBC. The technologies used are : &#8211; Spring 4.3.18 &#8211; H2 1.3 &#8211; Lombok 1.18 &#8211; JDK 1.80 &#8211; Maven 3.3.9 You can...]]></description>
				<content:encoded><![CDATA[<p>This example presents the basic concept of using named parameter in Spring JDBC.</p>
<p>The technologies used are :</p>
<ul>
 &#8211; Spring 4.3.18<br />
 &#8211; H2 1.3<br />
 &#8211; Lombok 1.18<br />
 &#8211; JDK 1.80<br />
 &#8211; Maven 3.3.9
</ul>
<p>You can convert this example to an Eclipse IDE project by going to folder where is the pom.xml is, and use the command :</p>
<pre class="brush: bash; title: ; notranslate">mvn eclipse:eclipse</pre>
<p>Inspired from « Beginning Spring » Mert Caliskan, Kenan Sevindik, Rod Johnson (Foreword by), Jürgen Höller (Foreword by).</p>
<pre class="brush: xml; title: pom.xml; notranslate">
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
	&lt;groupId&gt;javaspringexamples.springJDBC&lt;/groupId&gt;
	&lt;artifactId&gt;springJdbcNamedParameter&lt;/artifactId&gt;
	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

	&lt;properties&gt;
		&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
		&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
	&lt;/properties&gt;

	&lt;dependencies&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-context&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;com.h2database&lt;/groupId&gt;
			&lt;artifactId&gt;h2&lt;/artifactId&gt;
			&lt;version&gt;1.3.175&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
			&lt;artifactId&gt;lombok&lt;/artifactId&gt;
			&lt;version&gt;1.18.6&lt;/version&gt;
		&lt;/dependency&gt;
	&lt;/dependencies&gt;

&lt;/project&gt;
</pre>
<pre class="brush: java; title: Conf.java; notranslate">
package javaspringexamples.springJDBC.namedParameter;

import javax.sql.DataSource;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.core.io.Resource;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.datasource.DriverManagerDataSource;
import org.springframework.jdbc.datasource.init.DataSourceInitializer;
import org.springframework.jdbc.datasource.init.DatabasePopulator;
import org.springframework.jdbc.datasource.init.ResourceDatabasePopulator;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
@Configuration
public class Conf {

	@Value(&quot;classpath:schema.sql&quot;)
	private Resource schemaScript;

	@Value(&quot;classpath:data.sql&quot;)
	private Resource dataScript;

	@Bean
	public DataSource dataSource() {
		DriverManagerDataSource dataSource = new DriverManagerDataSource();
		dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);
		dataSource.setUrl(&quot;jdbc:h2:tcp://localhost/~/javaspringexamples&quot;);
		dataSource.setUsername(&quot;sa&quot;);
		dataSource.setPassword(&quot;&quot;);
		return dataSource;
	}

	@Bean
	public DataSourceInitializer dataSourceInitializer(final DataSource dataSource) {
		final DataSourceInitializer initializer = new DataSourceInitializer();
		initializer.setDataSource(dataSource);
		initializer.setDatabasePopulator(databasePopulator());
		return initializer;
	}

	private DatabasePopulator databasePopulator() {
		final ResourceDatabasePopulator populator = new ResourceDatabasePopulator();
		populator.addScript(schemaScript);
		populator.addScript(dataScript);
		return populator;
	}

	@Bean
	public JdbcTemplate jdbcTemplate() {
		JdbcTemplate jdbcTemplate = new JdbcTemplate();
		jdbcTemplate.setDataSource(dataSource());
		return jdbcTemplate;
	}

	@Bean
	public UserDao userDao() {
		UserDaoImpl userDao = new UserDaoImpl();
		userDao.setJdbcTemplate(jdbcTemplate());
		return userDao;
	}
}

</pre>
<pre class="brush: java; title: Main.java; notranslate">
package javaspringexamples.springJDBC.namedParameter;

import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

import org.springframework.context.annotation.AnnotationConfigApplicationContext;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class Main {
	public static void main(String[] args) throws SQLException {
		AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(Conf.class);

		UserDao userDao = applicationContext.getBean(UserDao.class);

		List&lt;User&gt; users = new ArrayList&lt;&gt;();
		users.addAll(userDao.findByUserName(&quot;jsmith&quot;));
		users.addAll(userDao.findLocked(false));
		users.add(userDao.findById(65L));

		for (User user : users)
			System.out.println(user.toString());
	}
}
</pre>
<pre class="brush: java; title: User.java; notranslate">
package javaspringexamples.springJDBC.namedParameter;

import java.util.Date;

import lombok.Data;
import lombok.ToString;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
@Data
public class User {
	private long id;
	private String name;
	private String userName;
	@ToString.Exclude
	private Date accessTime;
	private boolean locked;
}
</pre>
<pre class="brush: java; title: UserDao.java; notranslate">
package javaspringexamples.springJDBC.namedParameter;

import java.util.List;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public interface UserDao {
	public User findById(long usertId);
	public List&lt;User&gt; findByUserName(String userName);
	public List&lt;User&gt; findLocked(boolean locked);
}
</pre>
<pre class="brush: java; title: UserDaoImpl.java; notranslate">
package javaspringexamples.springJDBC.namedParameter;

import java.util.Collections;
import java.util.List;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class UserDaoImpl implements UserDao {

	private JdbcTemplate jdbcTemplate;
	private NamedParameterJdbcTemplate namedParameterJdbcTemplate;
	private UserRowMapper userRowMapper = new UserRowMapper();

	public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {
		this.jdbcTemplate = jdbcTemplate;
		namedParameterJdbcTemplate = new NamedParameterJdbcTemplate(jdbcTemplate);
	}

	public User findById(long userId) {
		return jdbcTemplate.queryForObject(&quot;SELECT id, name, user_name, access_time, locked FROM USER WHERE id = ?&quot;,
				userRowMapper, userId);
	}

	public List&lt;User&gt; findByUserName(String userName) {
		return namedParameterJdbcTemplate.query(
				&quot;SELECT id, name, user_name, access_time, locked FROM USER WHERE user_name = :userName&quot;,
				Collections.singletonMap(&quot;userName&quot;, userName), userRowMapper);
	}

	public List&lt;User&gt; findLocked(boolean locked) {
		return namedParameterJdbcTemplate.query(
				&quot;SELECT id, name, user_name, access_time, locked FROM USER WHERE locked = :locked&quot;,
				Collections.singletonMap(&quot;locked&quot;, locked), userRowMapper);
	}
}

</pre>
<pre class="brush: java; title: UserRowMapper.java; notranslate">
package javaspringexamples.springJDBC.namedParameter;

import java.sql.ResultSet;
import java.sql.SQLException;

import org.springframework.jdbc.core.RowMapper;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class UserRowMapper implements RowMapper&lt;User&gt; {

	public User mapRow(ResultSet rs, int rowNum) throws SQLException {
		User user = new User();
		user.setId(rs.getLong(&quot;id&quot;));
		user.setName(rs.getString(&quot;name&quot;));
		user.setUserName(rs.getString(&quot;user_name&quot;));
		user.setAccessTime(rs.getTimestamp(&quot;access_time&quot;));
		user.setLocked(rs.getBoolean(&quot;locked&quot;));
		return user;
	}

}

</pre>
<pre class="brush: java; title: data.sql; notranslate">
MERGE INTO USER (ID, NAME, USER_NAME, ACCESS_TIME, LOCKED) values (999L, 'Mounir SAHRANI', 'msahrani', '2019-01-01',false);
MERGE INTO USER (ID, NAME, USER_NAME, ACCESS_TIME, LOCKED) values (256L, 'Laurent SOURDEAU', 'lsourdeau', '2019-06-01',false);
MERGE INTO USER (ID, NAME, USER_NAME, ACCESS_TIME, LOCKED) values (65L, 'John SMITH', 'jsmith', '2019-06-01',true);
</pre>
<pre class="brush: java; title: schema.sql; notranslate">
CREATE TABLE IF NOT EXISTS USER (ID BIGINT IDENTITY PRIMARY KEY, NAME VARCHAR(60), USER_NAME VARCHAR(60), ACCESS_TIME TIMESTAMP, LOCKED BOOLEAN);
</pre>
<p><a href="https://github.com/javaspringexamples/springJdbcNamedParameter.git">Get the sources of the example from the following GitHub url</a></p>
<p>Or <a href="https://github.com/javaspringexamples/springJdbcNamedParameter/archive/master.zip">Download a .zip file</a></p>
]]></content:encoded>
			</item>
		<item>
		<title>Example Spring 4 JDBC – JdbcTemplate</title>
		<link>http://localhost/wordpress/2019/06/01/example-spring-4-jdbc-jdbctemplate/</link>
		<pubDate>Sat, 01 Jun 2019 14:30:28 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[JdbcTemplate]]></category>
		<category><![CDATA[Spring JDBC]]></category>

		<guid isPermaLink="false">http://localhost/wordpress/?p=593</guid>
		<description><![CDATA[This example presents the basic concept of using jdbcTemplate in Spring JDBC. The technologies used are : &#8211; Spring 4.3.18 &#8211; H2 1.3 &#8211; Lombok 1.18 &#8211; JDK 1.80 &#8211; Maven 3.3.9 You can convert...]]></description>
				<content:encoded><![CDATA[<p>This example presents the basic concept of using jdbcTemplate in Spring JDBC.</p>
<p>The technologies used are :</p>
<ul>
 &#8211; Spring 4.3.18<br />
 &#8211; H2 1.3<br />
 &#8211; Lombok 1.18<br />
 &#8211; JDK 1.80<br />
 &#8211; Maven 3.3.9
</ul>
<p>You can convert this example to an Eclipse IDE project by going to folder where is the pom.xml is, and use the command :</p>
<pre class="brush: bash; title: ; notranslate">mvn eclipse:eclipse</pre>
<p>Inspired from « Beginning Spring » Mert Caliskan, Kenan Sevindik, Rod Johnson (Foreword by), Jürgen Höller (Foreword by).</p>
<pre class="brush: xml; title: pom.xml; notranslate">
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
	&lt;groupId&gt;javaspringexamples.springJDBC&lt;/groupId&gt;
	&lt;artifactId&gt;springJdbcConfiguringJdbcTemplate&lt;/artifactId&gt;
	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

	&lt;properties&gt;
		&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
		&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
	&lt;/properties&gt;

	&lt;dependencies&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-context&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;com.h2database&lt;/groupId&gt;
			&lt;artifactId&gt;h2&lt;/artifactId&gt;
			&lt;version&gt;1.3.175&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
			&lt;artifactId&gt;lombok&lt;/artifactId&gt;
			&lt;version&gt;1.18.6&lt;/version&gt;
			&lt;scope&gt;provided&lt;/scope&gt;
		&lt;/dependency&gt;
	&lt;/dependencies&gt;
&lt;/project&gt;
</pre>
<pre class="brush: java; title: Conf.java; notranslate">
package javaspringexamples.springJDBC.JdbcTemplate;

import javax.sql.DataSource;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.datasource.DriverManagerDataSource;

@Configuration
public class Conf {
	@Bean
	public DataSource dataSource() {
		DriverManagerDataSource dataSource = new DriverManagerDataSource();
		dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);
		dataSource.setUrl(&quot;jdbc:h2:tcp://localhost/~/javaspringexamples&quot;);
		dataSource.setUsername(&quot;sa&quot;);
		dataSource.setPassword(&quot;&quot;);
		return dataSource;
	}

	@Bean
	public JdbcTemplate jdbcTemplate() {
		JdbcTemplate jdbcTemplate = new JdbcTemplate();
		jdbcTemplate.setDataSource(dataSource());
		return jdbcTemplate;
	}

	@Bean
	public UserDao userDao() {
		UserDaoJdbcImpl userDao = new UserDaoJdbcImpl();
		userDao.setJdbcTemplate(jdbcTemplate());
		return userDao;
	}

}

</pre>
<pre class="brush: java; title: Main.java; notranslate">
package javaspringexamples.springJDBC.JdbcTemplate;

import java.sql.SQLException;

import org.springframework.context.annotation.AnnotationConfigApplicationContext;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class Main {
	public static void main(String[] args) throws SQLException {
		AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(Conf.class);

		UserDao userDao = applicationContext.getBean(UserDao.class);
		User user = new User();
		userDao.insert(user);
		userDao.update(user);
		userDao.delete(999);
	}
}

</pre>
<pre class="brush: java; title: User.java; notranslate">
package javaspringexamples.springJDBC.JdbcTemplate;

import java.util.Date;

import lombok.Data;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
@Data
public class User {
	private long id;
	private String name;
	private double userName;
	private Date accessTime;
	private boolean locked;
}

</pre>
<pre class="brush: java; title: UserDao.java; notranslate">
package javaspringexamples.springJDBC.JdbcTemplate;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public interface UserDao {
	public void insert(User user);

	public void update(User user);

	public void delete(long userId);
}
</pre>
<pre class="brush: java; title: UserDaoJdbcImpl.java; notranslate">
package javaspringexamples.springJDBC.JdbcTemplate;

import org.springframework.jdbc.core.JdbcTemplate;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class UserDaoJdbcImpl implements UserDao {

	private JdbcTemplate jdbcTemplate;

	public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {
		this.jdbcTemplate = jdbcTemplate;
	}

	public void insert(User user) {
		System.out.println(&quot;Invoiking public void insert(User user)&quot;);
	}

	public void update(User user) {
		System.out.println(&quot;Invoiking public void update(User user)&quot;);
	}

	public void delete(long userId) {
		System.out.println(&quot;Invoiking public void delete(long userId)&quot;);
	}
}

</pre>
<p><a href="https://github.com/javaspringexamples/springJdbcConfiguringJdbcTemplate.git">Get the sources of the example from the following GitHub url</a></p>
<p>Or <a href="https://github.com/javaspringexamples/springJdbcConfiguringJdbcTemplate/archive/master.zip">Download a .zip file</a></p>
]]></content:encoded>
			</item>
		<item>
		<title>Example Spring 4 JDBC – Initializing Database</title>
		<link>http://localhost/wordpress/2019/06/01/example-spring-4-jdbc-initializing-database/</link>
		<pubDate>Sat, 01 Jun 2019 14:27:20 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[Initializing Database]]></category>
		<category><![CDATA[Spring JDBC]]></category>

		<guid isPermaLink="false">http://localhost/wordpress/?p=591</guid>
		<description><![CDATA[This example presents the basic concept of initializing database in Spring JDBC. The technologies used are : &#8211; Spring 4.3.18 &#8211; H2 1.3 &#8211; Lombok 1.18 &#8211; JDK 1.80 &#8211; Maven 3.3.9 You can convert...]]></description>
				<content:encoded><![CDATA[<p>This example presents the basic concept of initializing database in Spring JDBC.</p>
<p>The technologies used are :</p>
<ul>
 &#8211; Spring 4.3.18<br />
 &#8211; H2 1.3<br />
 &#8211; Lombok 1.18<br />
 &#8211; JDK 1.80<br />
 &#8211; Maven 3.3.9
</ul>
<p>You can convert this example to an Eclipse IDE project by going to folder where is the pom.xml is, and use the command :</p>
<pre class="brush: bash; title: ; notranslate">mvn eclipse:eclipse</pre>
<p>Inspired from « Beginning Spring » Mert Caliskan, Kenan Sevindik, Rod Johnson (Foreword by), Jürgen Höller (Foreword by).</p>
<pre class="brush: xml; title: pom.xml; notranslate">
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
	&lt;groupId&gt;javaspringexamples.springJDBC&lt;/groupId&gt;
	&lt;artifactId&gt;springJdbcInitializingDb&lt;/artifactId&gt;
	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

	&lt;properties&gt;
		&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
		&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
	&lt;/properties&gt;

	&lt;dependencies&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-context&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;com.h2database&lt;/groupId&gt;
			&lt;artifactId&gt;h2&lt;/artifactId&gt;
			&lt;version&gt;1.3.175&lt;/version&gt;
		&lt;/dependency&gt;

	&lt;/dependencies&gt;
&lt;/project&gt;
</pre>
<pre class="brush: java; title: Main.java; notranslate">
package javaspringexamples.springJDBC.InitializingDb;

import java.sql.Connection;
import java.sql.SQLException;

import javax.sql.DataSource;

import org.springframework.context.support.ClassPathXmlApplicationContext;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class Main {
	public static void main(String[] args) throws SQLException {
		ClassPathXmlApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;classpath:conf.xml&quot;);
		DataSource dataSource = applicationContext.getBean(&quot;dataSource&quot;, DataSource.class);

		Connection connection = dataSource.getConnection();
		System.out.println(connection.isClosed());
		connection.close();
		System.out.println(connection.isClosed());
	}
}
</pre>
<pre class="brush: xml; title: conf.xml; notranslate">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;
	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans 
    http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/jdbc 
    http://www.springframework.org/schema/jdbc/spring-jdbc-4.0.xsd&quot;&gt;

	&lt;bean id=&quot;dataSource&quot;
		class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;

		&lt;property name=&quot;driverClassName&quot; value=&quot;org.h2.Driver&quot; /&gt;
		&lt;property name=&quot;url&quot;
			value=&quot;jdbc:h2:tcp://localhost/~/javaspringexamples&quot; /&gt;
		&lt;property name=&quot;username&quot; value=&quot;sa&quot; /&gt;
		&lt;property name=&quot;password&quot; value=&quot;&quot; /&gt;
	&lt;/bean&gt;

	&lt;!-- &lt;jdbc:embedded-database id=&quot;dataSource&quot; type=&quot;H2&quot;/&gt; --&gt;

	&lt;jdbc:initialize-database
		data-source=&quot;dataSource&quot;&gt;
		&lt;jdbc:script location=&quot;classpath:schema.sql&quot; /&gt;
		&lt;jdbc:script location=&quot;classpath:data.sql&quot; /&gt;
	&lt;/jdbc:initialize-database&gt;

&lt;/beans&gt;

</pre>
<pre class="brush: java; title: data.sql; notranslate">
MERGE INTO USER (ID, NAME, USER_NAME, ACCESS_TIME, LOCKED) values (999, 'Mounir SAHRANI', 'msahrani', '2019-01-01',false);
MERGE INTO USER (ID, NAME, USER_NAME, ACCESS_TIME, LOCKED) values (256, 'Laurent SOURDEAU', 'lsourdeau', '2019-06-01',false);
</pre>
<pre class="brush: java; title: schema.sql; notranslate">
CREATE TABLE IF NOT EXISTS USER (ID BIGINT IDENTITY PRIMARY KEY, NAME VARCHAR(60), USER_NAME VARCHAR(60), ACCESS_TIME TIMESTAMP, LOCKED BOOLEAN);
</pre>
<p><a href="https://github.com/javaspringexamples/springJdbcInitializingDb.git">Get the sources of the example from the following GitHub url</a></p>
<p>Or <a href="https://github.com/javaspringexamples/springJdbcInitializingDb/archive/master.zip">Download a .zip file</a></p>
]]></content:encoded>
			</item>
		<item>
		<title>Example Spring 4 JDBC – Pooled Database</title>
		<link>http://localhost/wordpress/2019/06/01/example-spring-4-jdbc-pooled-database/</link>
		<pubDate>Sat, 01 Jun 2019 14:20:58 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[Pooled Database]]></category>
		<category><![CDATA[Spring JDBC]]></category>

		<guid isPermaLink="false">http://localhost/wordpress/?p=586</guid>
		<description><![CDATA[This example presents the basic concept of configuring pooled datasource in Spring JDBC. The technologies used are : &#8211; Spring 4.3.18 &#8211; H2 1.3 &#8211; Lombok 1.18 &#8211; JDK 1.80 &#8211; Maven 3.3.9 You can...]]></description>
				<content:encoded><![CDATA[<p>This example presents the basic concept of configuring pooled datasource in Spring JDBC.</p>
<p>The technologies used are :</p>
<ul>
 &#8211; Spring 4.3.18<br />
 &#8211; H2 1.3<br />
 &#8211; Lombok 1.18<br />
 &#8211; JDK 1.80<br />
 &#8211; Maven 3.3.9
</ul>
<p>You can convert this example to an Eclipse IDE project by going to folder where is the pom.xml is, and use the command :</p>
<pre class="brush: bash; title: ; notranslate">mvn eclipse:eclipse</pre>
<p>Inspired from « Beginning Spring » Mert Caliskan, Kenan Sevindik, Rod Johnson (Foreword by), Jürgen Höller (Foreword by).</p>
<pre class="brush: xml; title: pom.xml; notranslate">
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
	&lt;groupId&gt;javaspringexamples.springJDBC&lt;/groupId&gt;
	&lt;artifactId&gt;springJdbcConfiguringPooledDatasource&lt;/artifactId&gt;
	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

	&lt;properties&gt;
		&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
		&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
	&lt;/properties&gt;

	&lt;dependencies&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-context&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;com.h2database&lt;/groupId&gt;
			&lt;artifactId&gt;h2&lt;/artifactId&gt;
			&lt;version&gt;1.3.175&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;
			&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;
			&lt;version&gt;1.4&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;com.mchange&lt;/groupId&gt;
			&lt;artifactId&gt;c3p0&lt;/artifactId&gt;
			&lt;version&gt;0.9.5.3&lt;/version&gt;
		&lt;/dependency&gt;
	&lt;/dependencies&gt;
&lt;/project&gt;
</pre>
<pre class="brush: java; title: ConfigForBasicDataSource.java; notranslate">
package javaspringexamples.springJDBC.pooledDatasource;

import javax.sql.DataSource;

import org.apache.commons.dbcp.BasicDataSource;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
@Configuration
public class ConfigForBasicDataSource {

	@Bean(destroyMethod = &quot;close&quot;)
	public DataSource dataSource() {
		BasicDataSource dataSource = new BasicDataSource();
		dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);
		dataSource.setUrl(&quot;jdbc:h2:tcp://localhost/~/javaspringexamples&quot;);
		dataSource.setUsername(&quot;sa&quot;);
		dataSource.setPassword(&quot;&quot;);
		return dataSource;
	}
}

</pre>
<pre class="brush: java; title: ConfigForComboPooledDataSource.java; notranslate">
package javaspringexamples.springJDBC.pooledDatasource;

import javax.sql.DataSource;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import com.mchange.v2.c3p0.ComboPooledDataSource;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
@Configuration
public class ConfigForComboPooledDataSource {

	@Bean(destroyMethod = &quot;close&quot;)
	public DataSource dataSource() throws Exception {
		ComboPooledDataSource dataSource = new ComboPooledDataSource();
		dataSource.setDriverClass(&quot;org.h2.Driver&quot;);
		dataSource.setJdbcUrl(&quot;jdbc:h2:tcp://localhost/~/javaspringexamples&quot;);
		dataSource.setUser(&quot;sa&quot;);
		dataSource.setPassword(&quot;&quot;);
		return dataSource;
	}
}

</pre>
<pre class="brush: java; title: Main.java; notranslate">
package javaspringexamples.springJDBC.pooledDatasource;

import java.sql.Connection;
import java.sql.SQLException;

import javax.sql.DataSource;

import org.springframework.context.annotation.AnnotationConfigApplicationContext;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class Main {

	public static void main(String[] args) throws SQLException {
		// Instatiating for BasicDataSource
		AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(
				ConfigForBasicDataSource.class);
		DataSource dataSource = applicationContext.getBean(&quot;dataSource&quot;, DataSource.class);

		Connection connection = dataSource.getConnection();
		System.out.println(connection.isClosed());
		connection.close();
		System.out.println(connection.isClosed());

		// Instatiating for ComboPooledDatasource
		applicationContext = new AnnotationConfigApplicationContext(ConfigForComboPooledDataSource.class);
		dataSource = applicationContext.getBean(&quot;dataSource&quot;, DataSource.class);

		connection = dataSource.getConnection();
		System.out.println(connection.isClosed());
		connection.close();
		System.out.println(connection.isClosed());
	}

}

</pre>
<p><a href="https://github.com/javaspringexamples/springJdbcConfiguringPooledDatasource.git">Get the sources of the example from the following GitHub url</a></p>
<p>Or <a href="https://github.com/javaspringexamples/springJdbcConfiguringPooledDatasource/archive/master.zip">Download a .zip file</a></p>
]]></content:encoded>
			</item>
		<item>
		<title>Example Spring 4 JDBC – Embedded Database</title>
		<link>http://localhost/wordpress/2019/06/01/example-spring-4-jdbc-embedded-database/</link>
		<pubDate>Sat, 01 Jun 2019 14:15:36 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[Embedded Database]]></category>
		<category><![CDATA[Spring JDBC]]></category>

		<guid isPermaLink="false">http://localhost/wordpress/?p=583</guid>
		<description><![CDATA[This example presents the basic concept of using embedded database in Spring JDBC. The technologies used are : &#8211; Spring 4.3.18 &#8211; H2 1.3 &#8211; Lombok 1.18 &#8211; JDK 1.80 &#8211; Maven 3.3.9 You can...]]></description>
				<content:encoded><![CDATA[<p>This example presents the basic concept of using embedded database in Spring JDBC.</p>
<p>The technologies used are :</p>
<ul>
 &#8211; Spring 4.3.18<br />
 &#8211; H2 1.3<br />
 &#8211; Lombok 1.18<br />
 &#8211; JDK 1.80<br />
 &#8211; Maven 3.3.9
</ul>
<p>You can convert this example to an Eclipse IDE project by going to folder where is the pom.xml is, and use the command :</p>
<pre class="brush: bash; title: ; notranslate">mvn eclipse:eclipse</pre>
<p>Inspired from « Beginning Spring » Mert Caliskan, Kenan Sevindik, Rod Johnson (Foreword by), Jürgen Höller (Foreword by).</p>
<pre class="brush: xml; title: pom.xml; notranslate">
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
	&lt;groupId&gt;javaspringexamples.springJDBC&lt;/groupId&gt;
	&lt;artifactId&gt;springJdbcEmbeddedDbSupport&lt;/artifactId&gt;
	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

	&lt;properties&gt;
		&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
		&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
	&lt;/properties&gt;

	&lt;dependencies&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-context&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;com.h2database&lt;/groupId&gt;
			&lt;artifactId&gt;h2&lt;/artifactId&gt;
			&lt;version&gt;1.3.175&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;junit&lt;/groupId&gt;
			&lt;artifactId&gt;junit&lt;/artifactId&gt;
			&lt;version&gt;4.11&lt;/version&gt;
			&lt;scope&gt;test&lt;/scope&gt;
		&lt;/dependency&gt;
	&lt;/dependencies&gt;
&lt;/project&gt;
</pre>
<pre class="brush: java; title: Main.java; notranslate">
package javaspringexamples.springJDBC.EmbeddedDbSupport;

import java.sql.Connection;
import java.sql.SQLException;

import javax.sql.DataSource;

import org.springframework.context.support.ClassPathXmlApplicationContext;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class Main {
	public static void main(String[] args) throws SQLException {
		ClassPathXmlApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;classpath:conf.xml&quot;);
		DataSource dataSource = applicationContext.getBean(&quot;dataSource&quot;, DataSource.class);

		Connection connection = dataSource.getConnection();
		System.out.println(connection.isClosed());
		connection.close();
		System.out.println(connection.isClosed());
	}
}
</pre>
<pre class="brush: xml; title: conf.xml; notranslate">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;
	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/jdbc 
    http://www.springframework.org/schema/jdbc/spring-jdbc-4.0.xsd&quot;&gt;

	&lt;jdbc:embedded-database id=&quot;dataSource&quot;
		type=&quot;H2&quot;&gt;
		&lt;jdbc:script location=&quot;classpath:schema.sql&quot; /&gt;
		&lt;jdbc:script location=&quot;classpath:data.sql&quot; /&gt;
	&lt;/jdbc:embedded-database&gt;

&lt;/beans&gt;
</pre>
<pre class="brush: java; title: data.sql; notranslate">
insert into USER (NAME, USER_NAME, LOCKED) values ('Mounir SAHRANI','javaspringexamples',false);
</pre>
<pre class="brush: java; title: schema.sql; notranslate">
CREATE TABLE USER (ID BIGINT IDENTITY PRIMARY KEY, NAME VARCHAR(50), USER_NAME VARCHAR(50), LOCKED BOOLEAN);
</pre>
<pre class="brush: java; title: EmbeddedDataSourceTest.java; notranslate">
package javaspringexamples.springJDBC.EmbeddedDbSupport;

import java.sql.Connection;
import java.sql.SQLException;

import javax.sql.DataSource;

import org.junit.After;
import org.junit.Assert;
import org.junit.Before;
import org.junit.Test;
import org.springframework.jdbc.datasource.embedded.EmbeddedDatabase;
import org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder;
import org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseType;

/**
 *
 * @author mounir.sahrani@gmail.com
 *
 */
public class EmbeddedDataSourceTest {
	private DataSource dataSource;

	@Before
	public void setUp() {
		dataSource = new EmbeddedDatabaseBuilder().setType(EmbeddedDatabaseType.H2).addScript(&quot;classpath:schema.sql&quot;)
				.addScript(&quot;classpath:data.sql&quot;).build();
	}

	@Test
	public void testDataAccessLogic() throws SQLException {
		Connection connection = dataSource.getConnection();
		Assert.assertFalse(connection.isClosed());
		connection.close();
		Assert.assertTrue(connection.isClosed());
	}

	@After
	public void tearDown() {
		((EmbeddedDatabase) dataSource).shutdown();
	}
}
</pre>
<p><a href="https://github.com/javaspringexamples/springJdbcEmbeddedDbSupport.git">Get the sources of the example from the following GitHub url</a></p>
<p>Or <a href="https://github.com/javaspringexamples/springJdbcEmbeddedDbSupport/archive/master.zip">Download a .zip file</a></p>
]]></content:encoded>
			</item>
		<item>
		<title>Example Spring 4 JDBC – Configuring SingleDatasource</title>
		<link>http://localhost/wordpress/2019/06/01/example-spring-4-jdbc-configuring-singledatasource/</link>
		<pubDate>Sat, 01 Jun 2019 14:12:01 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[Configuring SingleDatasource]]></category>
		<category><![CDATA[Spring JDBC]]></category>

		<guid isPermaLink="false">http://localhost/wordpress/?p=581</guid>
		<description><![CDATA[This example presents the basic concept of configuring SingleDatasource in Spring JDBC. The technologies used are : &#8211; Spring 4.3.18 &#8211; H2 1.3 &#8211; Lombok 1.18 &#8211; JDK 1.80 &#8211; Maven 3.3.9 You can convert...]]></description>
				<content:encoded><![CDATA[<p>This example presents the basic concept of configuring SingleDatasource in Spring JDBC.</p>
<p>The technologies used are :</p>
<ul>
 &#8211; Spring 4.3.18<br />
 &#8211; H2 1.3<br />
 &#8211; Lombok 1.18<br />
 &#8211; JDK 1.80<br />
 &#8211; Maven 3.3.9
</ul>
<p>You can convert this example to an Eclipse IDE project by going to folder where is the pom.xml is, and use the command :</p>
<pre class="brush: bash; title: ; notranslate">mvn eclipse:eclipse</pre>
<p>Inspired from « Beginning Spring » Mert Caliskan, Kenan Sevindik, Rod Johnson (Foreword by), Jürgen Höller (Foreword by).</p>
<pre class="brush: xml; title: pom.xml; notranslate">
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
	&lt;groupId&gt;javaspringexamples.springJDBC&lt;/groupId&gt;
	&lt;artifactId&gt;springJdbcConfiguringSingleDatasource&lt;/artifactId&gt;
	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

	&lt;properties&gt;
		&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
		&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
	&lt;/properties&gt;

	&lt;dependencies&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-context&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;com.h2database&lt;/groupId&gt;
			&lt;artifactId&gt;h2&lt;/artifactId&gt;
			&lt;version&gt;1.3.175&lt;/version&gt;
		&lt;/dependency&gt;
	&lt;/dependencies&gt;
&lt;/project&gt;
</pre>
<pre class="brush: java; title: AppConfiguration.java; notranslate">
package javaspringexamples.springJDBC.Datasource;

import javax.sql.DataSource;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.jdbc.datasource.SingleConnectionDataSource;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */

@Configuration
public class AppConfiguration {
	@Bean
	public DataSource dataSource() {
		SingleConnectionDataSource dataSource = new SingleConnectionDataSource();
		dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);
		dataSource.setUrl(&quot;jdbc:h2:tcp://localhost/~/javaspringexamples&quot;);
		dataSource.setUsername(&quot;sa&quot;);
		dataSource.setPassword(&quot;&quot;);
		return dataSource;
	}
}

</pre>
<pre class="brush: java; title: Main.java; notranslate">
package javaspringexamples.springJDBC.Datasource;

import java.sql.Connection;
import java.sql.SQLException;

import javax.sql.DataSource;

import org.springframework.context.annotation.AnnotationConfigApplicationContext;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class Main {
	public static void main(String[] args) throws SQLException {
		AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(
				AppConfiguration.class);
		DataSource dataSource = applicationContext.getBean(&quot;dataSource&quot;, DataSource.class);

		Connection connection = dataSource.getConnection();
		System.out.println(connection.isClosed());
		connection.close();
		System.out.println(connection.isClosed());
	}
}

</pre>
<p><a href="https://github.com/javaspringexamples/springJdbcConfiguringSingleDatasource.git">Get the sources of the example from the following GitHub url</a></p>
<p>Or <a href="https://github.com/javaspringexamples/springJdbcConfiguringSingleDatasource/archive/master.zip">Download a .zip file</a></p>
]]></content:encoded>
			</item>
		<item>
		<title>Example Spring 4 JDBC &#8211; Configuring Datasource</title>
		<link>http://localhost/wordpress/2019/06/01/example-spring-4-jdbc-configuring-datasource/</link>
		<pubDate>Sat, 01 Jun 2019 14:06:58 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[Configuring Datasource]]></category>
		<category><![CDATA[Spring JDBC]]></category>

		<guid isPermaLink="false">http://localhost/wordpress/?p=578</guid>
		<description><![CDATA[This example presents the basic concept of configuring Datasource in Spring JDBC. The technologies used are : &#8211; Spring 4.3.18 &#8211; H2 1.3 &#8211; Lombok 1.18 &#8211; JDK 1.80 &#8211; Maven 3.3.9 You can convert...]]></description>
				<content:encoded><![CDATA[<p>This example presents the basic concept of configuring Datasource in Spring JDBC.</p>
<p>The technologies used are :</p>
<ul>
 &#8211; Spring 4.3.18<br />
 &#8211; H2 1.3<br />
 &#8211; Lombok 1.18<br />
 &#8211; JDK 1.80<br />
 &#8211; Maven 3.3.9
</ul>
<p>You can convert this example to an Eclipse IDE project by going to folder where is the pom.xml is, and use the command :</p>
<pre class="brush: bash; title: ; notranslate">mvn eclipse:eclipse</pre>
<p>Inspired from « Beginning Spring » Mert Caliskan, Kenan Sevindik, Rod Johnson (Foreword by), Jürgen Höller (Foreword by).</p>
<pre class="brush: xml; title: pom.xml; notranslate">
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
	&lt;groupId&gt;javaspringexamples.springJDBC&lt;/groupId&gt;
	&lt;artifactId&gt;springJdbcConfiguringDatasource&lt;/artifactId&gt;
	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

	&lt;properties&gt;
		&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
		&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
	&lt;/properties&gt;

	&lt;dependencies&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-context&lt;/artifactId&gt;
			&lt;version&gt;4.3.18.RELEASE&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;com.h2database&lt;/groupId&gt;
			&lt;artifactId&gt;h2&lt;/artifactId&gt;
			&lt;version&gt;1.3.175&lt;/version&gt;
		&lt;/dependency&gt;
	&lt;/dependencies&gt;
&lt;/project&gt;
</pre>
<pre class="brush: java; title: AppConfiguration.java; notranslate">
package javaspringexamples.springJDBC.Datasource;

import javax.sql.DataSource;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.jdbc.datasource.DriverManagerDataSource;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */

@Configuration
public class AppConfiguration {
	@Bean
	public DataSource dataSource() {
		DriverManagerDataSource dataSource = new DriverManagerDataSource();
		dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);
		dataSource.setUrl(&quot;jdbc:h2:tcp://localhost/~/javaspringexamples&quot;);
		dataSource.setUsername(&quot;sa&quot;);
		dataSource.setPassword(&quot;&quot;);
		return dataSource;
	}
}

</pre>
<pre class="brush: java; title: Main.java; notranslate">
package javaspringexamples.springJDBC.Datasource;

import java.sql.Connection;
import java.sql.SQLException;

import javax.sql.DataSource;

import org.springframework.context.annotation.AnnotationConfigApplicationContext;

/**
 * 
 * @author mounir.sahrani@gmail.com
 *
 */
public class Main {
	public static void main(String[] args) throws SQLException {
		AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(
				AppConfiguration.class);
		DataSource dataSource = applicationContext.getBean(&quot;dataSource&quot;, DataSource.class);

		Connection connection = dataSource.getConnection();
		System.out.println(connection.isClosed());
		connection.close();
		System.out.println(connection.isClosed());
	}
}

</pre>
<p><a href="https://github.com/javaspringexamples/springJdbcConfiguringDatasource.git">Get the sources of the example from the following GitHub url</a></p>
<p>Or <a href="https://github.com/javaspringexamples/springJdbcConfiguringDatasource/archive/master.zip">Download a .zip file</a></p>
]]></content:encoded>
			</item>
	</channel>
</rss>
